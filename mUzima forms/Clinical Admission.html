<html>
<head>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/muzima.css" rel="stylesheet">
    <!--Load this if datetime picker is need i.e date with time component-->
    <link href="css/bootstrap-datetimepicker.min.css" rel="stylesheet">
    <link href="css/ui-darkness/jquery-ui-1.10.4.custom.min.css" rel="stylesheet">
    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-ui-1.10.4.custom.min.js"></script>
    <script src="js/jquery.validate.min.js"></script>
    <script src="js/additional-methods.min.js"></script>
    <script src="js/muzima.js"></script>
    <!--Load this if datetime picker is need i.e date with time component-->
    <script src="js/bootstrap-datetimepicker.min.js"></script>
    <title>Clinical Examination</title>
</head>
<body class="col-md-8 col-md-offset-2">
<div id="pre_populate_data"></div>
<form id="breastcancer_form" name="breastcancer_form">
    <h2 class="text-center">Clinical Examination</h2>

    <!--=======================================================================================-->

    <div class="section">
        <fieldset>
            <h3>Encounter Details</h3>
            <div class="form-group">
                <label for="encounter.location_id">Location Name:<span class="required">*</span></label>
                <input class="form-control valid-location-only" id="encounter.location_id" type="text" placeholder="Start typing something..."
                       required="required">
                <input class="form-control" name="encounter.location_id" type="hidden">
            </div>
            <div class="form-group">
                <label for="encounter.provider_id_select">Provider:</label>
                <input class="form-control valid-provider-only" id="encounter.provider_id_select" type="text" placeholder="Start typing something...">
                <input class="form-control" name="encounter.provider_id_select" type="hidden">
            </div>
            <div class="form-group hidden">
                <select id="select_providers"></select>
            </div>
            <div class="form-group show_provider_id_text">
                <label for="encounter.provider_id">Provider's system-id:<span class="required">*</span></label>
                <input class="form-control checkDigit" id="encounter.provider_id" name="encounter.provider_id"
                       type="text" required="required" disabled="disabled">
            </div>
            <div class="form-group">
                <label for="encounter.encounter_datetime">Encounter Date:<span class="required">*</span></label>
                <input class="form-control datepicker nonFutureDate past-date" id="encounter.encounter_datetime"
                       name="encounter.encounter_datetime" type="text" readonly="readonly"
                       required="required">
            </div>
            <div class="form-group">
                <input class="form-control" id="encounter.form_uuid" name="encounter.form_uuid"
                       type="hidden" required="required">
            </div>
        </fieldset>
    </div>

    <!--=======================================================================================-->

    <div class="section">
        <fieldset>
            <h3>DEMOGRAPHICS & CLINICAL MEASUREMENTS</h3>

            <div class="form-group">
                <input class="form-control" id="patient.uuid"
                       name="patient.uuid" type="hidden" readonly="readonly">
            </div>
            <div class="form-group">
                <label for="patient.medical_record_number">Patient identifier:</label>
                <input class="form-control" id="patient.medical_record_number"
                       name="patient.medical_record_number" type="text" readonly="readonly">
            </div>
            <div class="form-group">
                <label for="patient.given_name">Given Name:</label>
                <input class="form-control" id="patient.given_name" name="patient.given_name" type="text"
                       readonly="readonly">
            </div>
            <div class="form-group">
                <label for="patient.middle_name">Middle Name:</label>
                <input class="form-control" id="patient.middle_name" name="patient.middle_name" type="text"
                       readonly="readonly">
            </div>
            <div class="form-group">
                <label for="patient.family_name">Family Name:</label>
                <input class="form-control" id="patient.family_name" name="patient.family_name" type="text"
                       readonly="readonly">
            </div>
            <div class="form-group">
                <label for="patient.sex">Gender:</label>
                <select class="form-control" id="patient.sex" name="patient.sex" disabled="disabled">
                    <option value="">...</option>
                    <option value="M">Male</option>
                    <option value="F">Female</option>
                </select>
            </div>
            <div class="form-group">
                <label for="patient.birth_date">Date Of Birth:</label>
                <input class="form-control" id="patient.birth_date" name="patient.birth_date" type="text"
                       readonly="readonly" disabled="disabled">
            </div>
        </fieldset>
    </div>

    <!--=======================================================================================-->
    <hr/>
    <h3> CLINICAL HISTORY </h3>
    <hr/>
    <fieldset>
        <h4>CHIEF COMPLAINTS</h4>
        <label>
            <input id="obs.SYMPTOMPRESENT" name="obs.SYMPTOMPRESENT" type="checkbox"
                   data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                   value="3cf1898e-26fe-102b-80cb-0017a47871b2^FEVER^99DCT">
            FEVER
        </label>
        <label>
            <input id="obs.ScreeningThoughPapSmear" name="obs.ScreeningThough" type="checkbox"
                   data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                   value="3cd24178-26fe-102b-80cb-0017a47871b2^HEADACHE^99DCT">
            HEADACHE
        </label>
        <label>
            <input id="obs.ScreeningThoughHPVDNATest" name="obs.ScreeningThough" type="checkbox"
                   data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                   value="3ce14056-26fe-102b-80cb-0017a47871b2^DRY COUGH^99DCT">
            DRY COUGH
        </label>
        <label>
            <input id="obs.PositivePastScreeningResult" name="obs.PastScreeningResult" type="checkbox"
                   data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                   value="3ccd2364-26fe-102b-80cb-0017a47871b2^CHEST PAIN^99DCT">
            CHEST PAIN
        </label>
        <label>
            <input id="obs.NegativePastScreeningResult" name="obs.PastScreeningResult" type="checkbox"
                   data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                   value="3cccc7ac-26fe-102b-80cb-0017a47871b2^RHEUMATISM^99DCT">
            RHEUMATISM
        </label>
        <label>
            <input id="obs.ResultsNotReceivedPastScreeningResult" name="obs.PastScreeningResult" type="checkbox"
                   data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                   value="3ce50fec-26fe-102b-80cb-0017a47871b2^LOSS OF APPETITE^99DCT">
            LOSS OF APPETITE
        </label>

        <label>
            <input id="obs.TypeOfTreatmentPerformedCryotherapy" name="obs.TypeOfTreatmentPerformed" type="checkbox"
                   data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                   value="3ccdf8d4-26fe-102b-80cb-0017a47871b2^ABDOMINAL PAIN^99DCT">
            ABDOMINAL PAIN
        </label>
        <label>
            <input id="obs.TypeOfTreatmentPerformedThermoAblation" name="obs.TypeOfTreatmentPerformed" type="checkbox"
                   data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                   value="b694aa46-7543-46ac-ad86-80e501a82289^AGITATION^99DCT">
            AGITATION
        </label>
        <label>
            <input id="obs.TypeOfTreatmentPerformedLEEP" name="obs.TypeOfTreatmentPerformed" type="checkbox"
                   data-concept="3cd95a58-26fe-102b-80cb-0017a47871b2^SYMPTOM PRESENT^99DCT"
                   value="f48fb2a9-9276-4096-b297-a41f903b8621^NECK PAIN^99DCT">
            NECK PAIN
        </label>

        <div class="form-group freetext">
            <label for="freetext_general_ch">Other Complaints</label>
            <textarea class="form-control" id="freetext_general_ot" name="freetext_general"
                      type="text" data-concept="3cdd258e-26fe-102b-80cb-0017a47871b2^SYMPTOM COMMENT^99DCT"></textarea>
        </div>

        <div class="form-group freetext">
            <label for="freetext_general_hi">HISTORY OF PRESENT ILLNESS</label>
            <textarea class="form-control" id="freetext_general_hi" name="freetext_general"
                      type="text" data-concept="24aa74e0-a281-4031-8919-63f3eaf3a729^History of the present illness^99DCT"></textarea>
        </div>


        <div class="form-group freetext">
            <label for="freetext_general_ch">PAST MEDICAL HISTORY</label>
            <textarea class="form-control" id="freetext_general_ch" name="freetext_general"
                      type="text" data-concept="bc3862d8-6825-4878-8801-f1e7b0790071^PAST MEDICAL HISTORY^99DCT"></textarea>
        </div>
    </fieldset>
    <!-- =========================================================================================== -->
    <hr/>
    <h3> PHYSICAL EXAMINATION/SYSTEMIC REVIEW </h3>
    <hr/>

    <fieldset>
        <div class="section">
            <div class="form-group freetext">
                <label for="freetext_general_c">CENTRAL NERVEOUS SYSTEM (Glasgow, Reflexes, Muscle Power And Tonicity, Sensitivity and Motricity)</label>
                <textarea class="form-control" id="freetext_general_c" name="freetext_general"
                          type="text" data-concept="2145^FREETEXT GENERAL^99DCT"></textarea>
            </div>

            <div class="form-group freetext">
                <label for="freetext_general_ca">CARDIOVASCULAR SYSTEM</label>
                <textarea class="form-control" id="freetext_general_ca" name="freetext_general"
                          type="text" data-concept="2143^FREETEXT GENERAL^99DCT"></textarea>
            </div>

            <div class="form-group freetext">
                <label for="freetext_general_r">RESPIRATORY SYSTEM</label>
                <textarea class="form-control" id="freetext_general_r" name="freetext_general"
                          type="text" data-concept="2141^FREETEXT GENERAL^99DCT"></textarea>
            </div>

            <div class="form-group freetext">
                <label for="freetext_general_g">GASTRO-INTESTINAL TRACT</label>
                <textarea class="form-control" id="freetext_general_g" name="freetext_general"
                          type="text" data-concept="2144^FREETEXT GENERAL^99DCT"></textarea>
            </div>

            <div class="form-group freetext">
                <label for="freetext_general_ge">GENITOURINARY SYSTEM</label>
                <textarea class="form-control" id="freetext_general_ge" name="freetext_general"
                          type="text" data-concept="2149^FREETEXT GENERAL^99DCT"></textarea>
            </div>
            <div class="form-group freetext">
                <label for="freetext_general_m">MUSCULOSKELETAL</label>
                <textarea class="form-control" id="freetext_general_m" name="freetext_general"
                          type="text" data-concept="2147^FREETEXT GENERAL^99DCT"></textarea>
            </div>
            <div class="form-group freetext">
                <label for="freetext_general_cl">CLINICAL SUMMARY</label>
                <textarea class="form-control" id="freetext_general_cl" name="freetext_general"
                          type="text" data-concept="9633^FREETEXT GENERAL^99DCT"></textarea>
            </div>
        </div>
    </fieldset>

    <hr/>
    <h3> DIAGNOSIS </h3>
    <hr/>
    <fieldset></fieldset>
    <div class="form-group differential_count">
        <label for="differential_count">
            DIFFERENTIAL DIAGNOSIS
        </label>
        <select class="form-control" id="differential_count"
                name="differential_count" required="required"
                data-concept="f1bec2f8-ce26-4fb8-a4fb-68bf7a34381d^Corona Virus Diagnosis^99DCT">
            <option value="">...</option>
            <option value="cf64f9d4-d38a-11e8-b6e2-0c5b8f279a64^DAYS^99DCT">Coronavirus infection, unspecified - B342</option>
            <option value="cf6520bd-d38a-11e8-b6e2-0c5b8f279a64^DAYS^99DCT">Coronavirus as the cause of diseases classified elsewhere - B972</option>
            <option value="cf6520f1-d38a-11e8-b6e2-0c5b8f279a64^DAYS^99DCT">Oth coronavirus as the cause of diseases classd elswhr - B9729</option>
            <option value="cf6a6236-d38a-11e8-b6e2-0c5b8f279a64^DAYS^99DCT">Pneumonia due to SARS-associated coronavirus - J1281</option>
            <option value="cf6520d7-d38a-11e8-b6e2-0c5b8f279a64^DAYS^99DCT">SARS-associated coronavirus causing diseases classd elswhr - B9721</option>
            <!--<option value="1073^WEEKS^99DCT">Weeks</option>
            <option value="1074^MONTHS^99DCT">Months</option>-->
            <!-- ... More options in between here -->
            <option value="1079^CONTINUOUS^99DCT">Continuous</option>
        </select>
    </div>
    </fieldset>
    <div>
        <input id="save_draft" name="save_draft" type="submit" value="Draft"/>
        <input id="submit_form" name="submit_form" type="submit" value="submit"/>
    </div>
</form>
</body>
<script type="text/javascript">
$(document).ready(function () {

    document.setupAutoCompleteDataForProvider('encounter\\.provider_id_select');
    document.setupAutoCompleteData('encounter\\.location_id');
    document.setupValidationForProvider($('#encounter\\.provider_id_select').val(),$("#encounter\\.provider_id"));
    document.setupValidationForLocation($('#encounter\\.location_id').val(),$("encounter\\.location_id"));

    $('#save_draft').click(function () {
        $(this).prop('disabled', true);
        document.saveDraft();
        $(this).prop('disabled', false);
    });

    $('#submit_form').click(function () {
        $(this).prop('disabled', true);
        document.submit();
        $(this).prop('disabled', false);
    });

    $('#breastcancer_form').validate({
        rules: {
            weight_kg: {
                number: true,
                range: [0, 250]
            },
            height_cm: {
                number: true,
                range: [10, 228]
            }
        },
        submitHandler: function (form) {
            $('#result').html(JSON.stringify($('form').serializeEncounterForm(), undefined, 2));
        }
    });

    var locationName = [
        {"val": "7", "label": "Chulaimbo"},
        {"val": "3", "label": "Turbo"},
        {"val": "17", "label": "Iten"}
    ];
    $('#encounter\\.location_id').autocomplete({
        source: locationName,
        create: function (event, ui) {
            var location_val = $('input[name="encounter\\.location_id"]').val();
            $.each(locationName, function (i, elem) {
                if (elem.val == location_val) {
                    $('#encounter\\.location_id').val(elem.label)
                }
                ;
            });
        },
        select: function (event, ui) {
            $('input[name="encounter\\.location_id"]').val(ui.item.val);
            $('#encounter\\.location_id').val(ui.item.label);
            return false;
        }
    });

    var provider = [
        {"label": "Daurine Achieng Agumba", "val": "3419-9"},
        {"label": "Irene Chepkosgei Kurgat", "val": "3420-7"},
        {"label": "Rose Cheruto Toroitich", "val": "3421-5"},
        {"label": "Mary Kipkurui Kimosop", "val": "3422-3"}
    ];

    $('#encounter\\.provider_id_select').autocomplete({
        source: provider,
        create: function (event, ui) {
            var provider_val = $('input[name="encounter\\.provider_id_select"]').val();
            $.each(provider, function (i, elem) {
                if (elem.val == provider_val) {
                    $('#encounter\\.provider_id_select').val(elem.label)
                }
            });
        },
        select: function (event, ui) {
            $('input[name="encounter\\.provider_id_select"]').val(ui.item.val);
            $('#encounter\\.provider_id_select').val(ui.item.label);
            $('#encounter\\.provider_id').val(ui.item.val);
            $('.show_provider_id_text').hide();
            return false;
        }
    });
    $('#encounter\\.provider_id_select').change(function () {
        if ($('#encounter\\.provider_id_select').val() === '') {
            $('#encounter\\.provider_id').val('');
            $('.show_provider_id_text').show();
        }
    });
});
</script>
</html>